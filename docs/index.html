<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Threshold Video Viewer</title>
  <style>
    body { font-family: sans-serif; padding: 20px; text-align: center; }
    .video-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 20px; }
    video { width: 300px; height: auto; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h1>Threshold Video Viewer</h1>
  <label for="thresholdSlider">Threshold: <span id="thresholdValue">0.0</span></label><br/>
  <input type="range" id="thresholdSlider" min="0" max="10" step="1" value="0"/>


  <div class="video-grid" id="videoContainer"></div>

  <script>
    const videoContainer = document.getElementById('videoContainer');
    const slider = document.getElementById('thresholdSlider');
    const valueLabel = document.getElementById('thresholdValue');

    const loadVideos = (threshold) => {
      videoContainer.innerHTML = '';
      for (let cfg = 0; cfg < 6; cfg++) {
        const video = document.createElement('video');
        video.src = `videos_640p/video360_thresh_${threshold.toFixed(1)}_cfg_${cfg}.mp4`;
        video.autoplay = true;
        video.loop = true;
        video.muted = true;
        video.controls = true;
        videoContainer.appendChild(video);
      }
    };

    slider.addEventListener('input', () => {
      const threshold = (slider.value / 10);
      valueLabel.textContent = threshold.toFixed(1);
      loadVideos(threshold);
    });

    // Initial load
    loadVideos(0.0);
  </script>
</body>
</html>
